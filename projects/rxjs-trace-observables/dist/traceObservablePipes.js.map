{"version":3,"sources":["webpack://TraceObservablePipes/webpack/universalModuleDefinition","webpack://TraceObservablePipes/webpack/bootstrap","webpack://TraceObservablePipes/./src/stackData.ts","webpack://TraceObservablePipes/external \"rxjs/operators\"","webpack://TraceObservablePipes/./src/graph.ts","webpack://TraceObservablePipes/./src/node.ts","webpack://TraceObservablePipes/./src/traceObservablePipes.ts","webpack://TraceObservablePipes/external \"rxjs\"","webpack://TraceObservablePipes/./src/index.ts","webpack://TraceObservablePipes/./src/traceableCombinationOperatorFactory.ts","webpack://TraceObservablePipes/./src/traceableOperatorFactory.ts","webpack://TraceObservablePipes/./src/trace.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","traceObservablePipes_1","StackData","undefined","this","Error","stack","split","getHash","hashString","require","node_1","Graph","directed","nodes","adjacencyList","getNode","id","find","x","addNode","data","existingNode","node","Node","push","addEdge","from","to","indexOf","getGraphFromStack","g","fillGraphWithStack","rootNodes","Array","isArray","lastNodes","_loop_1","nextLastNodes","_i","s_1","length","subS","apply","node_3","forEach","stack_1","node_2","toString","JSON","stringify","nextNodeId","__assign","assign","arguments","rxjs_1","traceableCombinationOperatorFactory_1","traceableOperatorFactory_1","stackData_1","traceObservablePipes","rxjs_","rxjsOperators_","origRxJsOperators","origRxJs","orig","Observable","lift","opName","operator","newObs","traceableOperatorFactory","project","resultSelector","source","sourceStack","concat","nestedStackStart","nestedStackLength","origProject","index","_a","splice","pipe","switchMap","catchError","err","caught","throwError","traceableCombinationOperatorFactory","str","hash","charCodeAt","__export","operators_1","args","result","filter","map","arg","tap","val","graph_1","trace","graph","console","debug","keys","flatMap","join","message","type","content","setTimeout","postMessage","warn"],"mappings":"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","file":"traceObservablePipes.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"TraceObservablePipes\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TraceObservablePipes\"] = factory();\n\telse\n\t\troot[\"TraceObservablePipes\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar traceObservablePipes_1 = require(\"./traceObservablePipes\");\nvar StackData = /** @class */ (function () {\n    function StackData(name, value) {\n        if (value === void 0) { value = undefined; }\n        this.name = name;\n        this.value = value;\n        this.call = new Error().stack.split(\"\\n\")[3];\n    }\n    StackData.prototype.getHash = function () {\n        return traceObservablePipes_1.hashString(this.call);\n    };\n    return StackData;\n}());\nexports.StackData = StackData;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhY2tEYXRhLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic3RhY2tEYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0RBQWtEO0FBR2xEO0lBR0ksbUJBQW1DLElBQVksRUFBUyxLQUFzQjtRQUF0QixzQkFBQSxFQUFBLGlCQUFzQjtRQUEzQyxTQUFJLEdBQUosSUFBSSxDQUFRO1FBQVMsVUFBSyxHQUFMLEtBQUssQ0FBaUI7UUFDMUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELDJCQUFPLEdBQVA7UUFDSSxPQUFPLGlDQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFDTCxnQkFBQztBQUFELENBQUMsQUFWRCxJQVVDO0FBVlksOEJBQVMifQ==","module.exports = require(\"rxjs/operators\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar node_1 = require(\"./node\");\nvar Graph = /** @class */ (function () {\n    function Graph(directed) {\n        if (directed === void 0) { directed = true; }\n        this.directed = directed;\n        this.nodes = [];\n        this.adjacencyList = {};\n    }\n    Graph.prototype.getNode = function (id) {\n        if (typeof id === \"number\") {\n            return this.nodes.find(function (x) { return x.id === id; });\n        }\n        else {\n            return this.nodes.find(function (x) { return x.id === id.getHash(); });\n        }\n    };\n    Graph.prototype.addNode = function (data) {\n        var existingNode = this.nodes.find(function (x) { return x.id === data.getHash(); });\n        if (existingNode) {\n            return existingNode;\n        }\n        var node = new node_1.Node(data);\n        this.nodes.push(node);\n        return node;\n    };\n    Graph.prototype.addEdge = function (from, to) {\n        if (!this.adjacencyList.hasOwnProperty(from.id)) {\n            this.adjacencyList[from.id] = [];\n        }\n        if (this.adjacencyList[from.id].indexOf(to.id) < 0) {\n            this.adjacencyList[from.id].push(to.id);\n        }\n        if (!this.directed) {\n            if (!this.adjacencyList.hasOwnProperty(to.id)) {\n                this.adjacencyList[to.id] = [];\n            }\n            if (this.adjacencyList[to.id].indexOf(from.id) < 0) {\n                this.adjacencyList[to.id].push(from.id);\n            }\n        }\n    };\n    return Graph;\n}());\nexports.Graph = Graph;\nfunction fillGraphWithStack(g, stack, rootNodes) {\n    if (rootNodes === void 0) { rootNodes = []; }\n    if (!Array.isArray(stack)) {\n        var node_2 = g.addNode(stack);\n        rootNodes.forEach(function (n) { return g.addEdge(n, node_2); });\n        return [node_2];\n    }\n    else {\n        var lastNodes = rootNodes;\n        var _loop_1 = function (s) {\n            if (Array.isArray(s)) {\n                var nextLastNodes = [];\n                for (var _i = 0, s_1 = s; _i < s_1.length; _i++) {\n                    var subS = s_1[_i];\n                    nextLastNodes.push.apply(nextLastNodes, fillGraphWithStack(g, subS, lastNodes));\n                }\n                lastNodes = nextLastNodes;\n            }\n            else {\n                var node_3 = g.addNode(s);\n                lastNodes.forEach(function (n) { return g.addEdge(n, node_3); });\n                lastNodes = [node_3];\n            }\n        };\n        for (var _i = 0, stack_1 = stack; _i < stack_1.length; _i++) {\n            var s = stack_1[_i];\n            _loop_1(s);\n        }\n        return lastNodes;\n    }\n}\nfunction getGraphFromStack(stack) {\n    var g = new Graph();\n    fillGraphWithStack(g, stack);\n    return g;\n}\nexports.getGraphFromStack = getGraphFromStack;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JhcGguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJncmFwaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLCtCQUE0QjtBQUU1QjtJQUlJLGVBQW1DLFFBQXdCO1FBQXhCLHlCQUFBLEVBQUEsZUFBd0I7UUFBeEIsYUFBUSxHQUFSLFFBQVEsQ0FBZ0I7UUFIM0MsVUFBSyxHQUFjLEVBQUUsQ0FBQztRQUN0QixrQkFBYSxHQUE4QixFQUFFLENBQUM7SUFJOUQsQ0FBQztJQUVNLHVCQUFPLEdBQWQsVUFBZSxFQUFjO1FBQ3pCLElBQUksT0FBTyxFQUFFLEtBQUssUUFBUSxFQUFFO1lBQ3hCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBWCxDQUFXLENBQUMsQ0FBQztTQUM1QzthQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFyQixDQUFxQixDQUFDLENBQUM7U0FDdEQ7SUFDTCxDQUFDO0lBRU0sdUJBQU8sR0FBZCxVQUFlLElBQU87UUFDbEIsSUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBdkIsQ0FBdUIsQ0FBQyxDQUFDO1FBRW5FLElBQUksWUFBWSxFQUFFO1lBQ2QsT0FBTyxZQUFZLENBQUM7U0FDdkI7UUFFRCxJQUFNLElBQUksR0FBRyxJQUFJLFdBQUksQ0FBSSxJQUFJLENBQUMsQ0FBQztRQUUvQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFD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","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Node = /** @class */ (function () {\n    function Node(data) {\n        this.data = data;\n        this.id = data.getHash();\n    }\n    Node.prototype.toString = function () {\n        return \"id: \" + this.id + \", data: \" + JSON.stringify(this.data);\n    };\n    Node.nextNodeId = 0;\n    return Node;\n}());\nexports.Node = Node;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm5vZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTtJQU9JLGNBQVksSUFBTztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFTSx1QkFBUSxHQUFmO1FBQ0ksT0FBTyxTQUFPLElBQUksQ0FBQyxFQUFFLGdCQUFXLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRyxDQUFDO0lBQ2hFLENBQUM7SUFiYyxlQUFVLEdBQVcsQ0FBQyxDQUFDO0lBYzFDLFdBQUM7Q0FBQSxBQWZELElBZUM7QUFmWSxvQkFBSSJ9","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nvar traceableCombinationOperatorFactory_1 = require(\"./traceableCombinationOperatorFactory\");\nvar traceableOperatorFactory_1 = require(\"./traceableOperatorFactory\");\nvar stackData_1 = require(\"./stackData\");\nfunction traceObservablePipes(rxjs_, rxjsOperators_) {\n    var origRxJsOperators = __assign({}, rxjsOperators_);\n    var origRxJs = __assign({}, rxjs_);\n    var orig = origRxJs.Observable.prototype.lift;\n    rxjs_.Observable.prototype.lift = function (operator) {\n        var thisArg = this;\n        var newObs = orig.call(thisArg, operator);\n        newObs[\"__stack__\"] = this[\"__stack__\"];\n        return newObs;\n    };\n    for (var opName in rxjsOperators_) {\n        var operator = rxjsOperators_[opName];\n        if (typeof operator === \"function\" && opName !== \"switchMap\") {\n            Object.defineProperty(rxjsOperators_, opName, {\n                value: traceableOperatorFactory_1.traceableOperatorFactory(origRxJsOperators[opName], opName)\n            });\n        }\n    }\n    Object.defineProperty(rxjsOperators_, \"switchMap\", {\n        value: function (project, resultSelector) {\n            var stack = new stackData_1.StackData(\"switchMap\");\n            return function (source) {\n                var sourceStack = (source[\"__stack__\"] || []).concat([stack]);\n                source[\"__stack__\"] = sourceStack;\n                var nestedStackStart = sourceStack.length;\n                var nestedStackLength = 0;\n                var origProject = project;\n                project = function (value, index) {\n                    var _a;\n                    var newObs = origProject(value, index);\n                    (_a = source[\"__stack__\"]).splice.apply(_a, [nestedStackStart, nestedStackLength].concat((newObs[\"__stack__\"] || [])));\n                    nestedStackLength = (newObs[\"__stack__\"] && newObs[\"__stack__\"].length) || 0;\n                    return newObs;\n                };\n                return source.pipe(origRxJsOperators.switchMap(project, resultSelector), origRxJsOperators.catchError(function (err, caught) {\n                    // if (!(err instanceof ObservablePipeError)) {\n                    // console.warn(\"An error occurred in an observable pipe: \\n\\n\" + getKNode(caught['__stack__']).prettyPrint());\n                    // }\n                    return rxjs_1.throwError(err);\n                }));\n            };\n        }\n    });\n    for (var _i = 0, _a = [\"zip\", \"combineLatest\", \"forkJoin\"]; _i < _a.length; _i++) {\n        var opName = _a[_i];\n        var operator = rxjs_[opName];\n        if (typeof operator === \"function\") {\n            Object.defineProperty(rxjs_, opName, {\n                value: traceableCombinationOperatorFactory_1.traceableCombinationOperatorFactory(origRxJs[opName], opName)\n            });\n        }\n    }\n}\nexports.traceObservablePipes = traceObservablePipes;\nfunction hashString(str) {\n    var hash = 0, i, chr;\n    if (str.length === 0) {\n        return hash;\n    }\n    for (i = 0; i < str.length; i++) {\n        chr = str.charCodeAt(i);\n        hash = ((hash << 5) - hash) + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n}\nexports.hashString = hashString;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhY2VPYnNlcnZhYmxlUGlwZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0cmFjZU9ic2VydmFibGVQaXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsNkJBQTRDO0FBQzVDLDZGQUEwRjtBQUMxRix1RUFBb0U7QUFDcEUseUNBQXNDO0FBR3RDLFNBQWdCLG9CQUFvQixDQUFDLEtBQUssRUFBRSxjQUFjO0lBQ3RELElBQU0saUJBQWlCLGdCQUFPLGNBQWMsQ0FBQyxDQUFDO0lBQzlDLElBQU0sUUFBUSxnQkFBTyxLQUFLLENBQUMsQ0FBQztJQUU1QixJQUFNLElBQUksR0FBRyxRQUFRLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7SUFDaEQsS0FBSyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFVBQVUsUUFBUTtRQUNoRCxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFFckIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFNUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUV4QyxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDLENBQUM7SUFHRixLQUFLLElBQU0sTUFBTSxJQUFJLGNBQWMsRUFBRTtRQUNqQyxJQUFNLFFBQVEsR0FBRyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEMsSUFBSSxPQUFPLFFBQVEsS0FBSyxVQUFVLElBQUksTUFBTSxLQUFLLFdBQVcsRUFBRTtZQUMxRCxNQUFNLENBQUMsY0FBYyxDQUFDLGNBQWMsRUFBRSxNQUFNLEVBQUU7Z0JBQzFDLEtBQUssRUFBRSxtREFBd0IsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNLENBQUM7YUFDckUsQ0FBQyxDQUFDO1NBQ047S0FDSjtJQUVELE1BQU0sQ0FBQyxj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","module.exports = require(\"rxjs\");","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./graph\"));\n__export(require(\"./node\"));\n__export(require(\"./stackData\"));\n__export(require(\"./trace\"));\n__export(require(\"./traceObservablePipes\"));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDZCQUF3QjtBQUV4Qiw0QkFBdUI7QUFDdkIsaUNBQTRCO0FBQzVCLDZCQUF3QjtBQUN4Qiw0Q0FBdUMifQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar stackData_1 = require(\"./stackData\");\nvar operators_1 = require(\"rxjs/operators\");\nfunction traceableCombinationOperatorFactory(operator, opName) {\n    // @ts-ignore\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (args.length === 1 && Array.isArray(args[0])) {\n            args = args[0];\n        }\n        var result = operator(args);\n        var stack = new stackData_1.StackData(opName);\n        result[\"__stack__\"] = [\n            args.filter(function (x) { return x[\"__stack__\"]; }).map(function (arg) { return arg[\"__stack__\"]; }),\n            stack\n        ];\n        return result.pipe(operators_1.tap(function (val) { return stack.value = val; }));\n    };\n}\nexports.traceableCombinationOperatorFactory = traceableCombinationOperatorFactory;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhY2VhYmxlQ29tYmluYXRpb25PcGVyYXRvckZhY3RvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0cmFjZWFibGVDb21iaW5hdGlvbk9wZXJhdG9yRmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLHlDQUFzQztBQUN0Qyw0Q0FBbUM7QUFFbkMsU0FBZ0IsbUNBQW1DLENBQXFCLFFBQVcsRUFBRSxNQUFjO0lBQy9GLGFBQWE7SUFDYixPQUFPO1FBQUMsY0FBcUI7YUFBckIsVUFBcUIsRUFBckIscUJBQXFCLEVBQXJCLElBQXFCO1lBQXJCLHlCQUFxQjs7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQzdDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbEI7UUFDRCxJQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsSUFBTSxLQUFLLEdBQUcsSUFBSSxxQkFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRztZQUNsQixJQUFJLENBQUMsTUFBTSxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUFkLENBQWMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEdBQUcsSUFBSSxPQUFBLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBaEIsQ0FBZ0IsQ0FBQztZQUM3RCxLQUFLO1NBQ1IsQ0FBQztRQUNGLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFHLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQSxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsRUFBakIsQ0FBaUIsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDO0FBQ04sQ0FBQztBQWRELGtGQWNDIn0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nvar stackData_1 = require(\"./stackData\");\nvar operators_1 = require(\"rxjs/operators\");\nfunction traceableOperatorFactory(operator, opName) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var stack = new stackData_1.StackData(opName);\n        return function (source) {\n            source[\"__stack__\"] = (source[\"__stack__\"] || []).concat([stack]);\n            return source.pipe(operators_1.tap(function (val) { return stack.value = val; }), operator.apply(void 0, args), operators_1.catchError(function (err, caught) {\n                // if (!(err instanceof ObservablePipeError)) {\n                // console.warn(\"An error occurred in an observable pipe: \\n\\n\" + getKNode(caught['__stack__']).prettyPrint());\n                // }\n                return rxjs_1.throwError(err);\n            }));\n        };\n    };\n}\nexports.traceableOperatorFactory = traceableOperatorFactory;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhY2VhYmxlT3BlcmF0b3JGYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidHJhY2VhYmxlT3BlcmF0b3JGYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkJBQTRDO0FBQzVDLHlDQUFzQztBQUN0Qyw0Q0FBK0M7QUFFL0MsU0FBZ0Isd0JBQXdCLENBQXFCLFFBQVcsRUFBRSxNQUFjO0lBQ3BGLE9BQU87UUFBVSxjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLHlCQUFPOztRQUNwQixJQUFNLEtBQUssR0FBRyxJQUFJLHFCQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEMsT0FBTyxVQUFDLE1BQXFCO1lBQ3pCLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsU0FBRSxLQUFLLEVBQUMsQ0FBQztZQUU5RCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQ2QsZUFBRyxDQUFDLFVBQUEsR0FBRyxJQUFJLE9BQUEsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLEVBQWpCLENBQWlCLENBQUMsRUFDN0IsUUFBUSxlQUFJLElBQUksR0FDaEIsc0JBQVUsQ0FBQyxVQUFDLEdBQUcsRUFBRSxNQUFNO2dCQUNuQiwrQ0FBK0M7Z0JBQy9DLCtHQUErRztnQkFDL0csSUFBSTtnQkFDSixPQUFPLGlCQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDM0IsQ0FBQyxDQUFDLENBQ0wsQ0FBQztRQUNOLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQztBQUNOLENBQUM7QUFsQkQsNERBa0JDIn0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar graph_1 = require(\"./graph\");\nvar operators_1 = require(\"rxjs/operators\");\nexports.trace = function () { return function (source) {\n    return source.pipe(operators_1.tap(function (x) {\n        var stack = source[\"__stack__\"];\n        if (!stack) {\n            console.warn(\"Tried to trace an observable but there is no stack. Is the library imported correctly?\");\n            return;\n        }\n        var graph = graph_1.getGraphFromStack(stack);\n        console.debug(\"Tracing observable. Current value: \" + x + \"\\n\\n\\n\" + Object.keys(graph.adjacencyList)\n            .flatMap(function (from) { return graph.adjacencyList[+from].map(function (to) { return graph.getNode(+from).data.name + \" -> \" + graph.getNode(+to).data.name; }); })\n            .join(\"\\n\") + \"\\n\\n\" + graph.nodes.map(function (x) { return (x.data.name + \": \" + x.data); }).join(\"\\n\") + \" \\n\");\n        var message = { type: \"graph\", content: graph };\n        setTimeout(function () { return window.postMessage(message, \"*\"); }, 0);\n    }));\n}; };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ0cmFjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLGlDQUEwQztBQUMxQyw0Q0FBbUM7QUFFdEIsUUFBQSxLQUFLLEdBQUcsY0FBTSxPQUFBLFVBQUksTUFBcUI7SUFDaEQsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQUcsQ0FBQyxVQUFBLENBQUM7UUFDcEIsSUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRWxDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDUixPQUFPLENBQUMsSUFBSSxDQUFDLHdGQUF3RixDQUFDLENBQUM7WUFDdkcsT0FBTztTQUNWO1FBRUQsSUFBTSxLQUFLLEdBQUcseUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsT0FBTyxDQUFDLEtBQUssQ0FBQyx3Q0FBc0MsQ0FBQyxjQUUzRCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7YUFDckIsT0FBTyxDQUFDLFVBQUEsSUFBSSxJQUFJLE9BQUEsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEVBQUUsSUFBSSxPQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxZQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBTSxFQUF0RSxDQUFzRSxDQUFDLEVBQTVHLENBQTRHLENBQUM7YUFDN0gsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUVyQixLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLFVBQUssQ0FBQyxDQUFDLElBQU0sQ0FBQyxFQUE3QixDQUE2QixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUMvRCxDQUFDLENBQUM7UUFDSyxJQUFNLE9BQU8sR0FBRyxFQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBQyxDQUFDO1FBQ2hELFVBQVUsQ0FBQyxjQUFNLE9BQUEsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQWhDLENBQWdDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNSLENBQUMsRUFyQjBCLENBcUIxQixDQUFDIn0="],"sourceRoot":""}